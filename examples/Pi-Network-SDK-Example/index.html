<!DOCTYPE html>
<html>
<head>
  <title>Pi Network SDK Example</title>
  <script src="https://sdk.minepi.com/pi-sdk.js"></script>
</head>
<body>
  <h1>Pi Network SDK Example</h1>
  <button onclick="authenticate()">Authenticate</button>
  <button onclick="checkUserHasMiningApp()">Check if user has Mining App</button>
  <button onclick="checkUserHasPiBrowser()">Check if user has Pi Browser</button>
  <button onclick="copyText()">Copy text to clipboard</button>
  <button onclick="createPayment()">Create payment</button>
  <button onclick="getPiHostAppName()">Get Pi Host App Name</button>
  <button onclick="getPiHostAppInfo()">Get Pi Host App Info</button>
  <button onclick="nativeFeaturesList()">Get Native Features List</button>
  <button onclick="openConversation()">Open conversation</button>
  <button onclick="openShareDialog()">Open share dialog</button>
  <button onclick="openUrlInSystemBrowser()">Open URL in system browser</button>
  <button onclick="requestPermission()">Request permission</button>
  <button onclick="scanQrCode()">Scan QR code</button>

  <script>
    Pi.init({ version: "2.0", sandbox: false });

    // Example function
    const authenticate = () => {
      Pi.authenticate(['payments'], (error, result) => {
        if (error) {
          console.error(error);
        } else {
          console.log(result);
        }
      });
    };

    const checkUserHasMiningApp = () => {
      Pi.checkUserHasMiningApp().then((result) => {
        console.log(result);
      });
    };

    const checkUserHasPiBrowser = () => {
      Pi.checkUserHasPiBrowser().then((result) => {
        console.log(result);
      });
    };

    const copyText = () => {
      Pi.copyText('Hello world!').then(() => {
        console.log('Text copied to clipboard.');
      });
    };

    const createPayment = () => {
      Pi.createPayment({
        amount: 10,
        memo: 'This is a test payment.',
        to_address: 'my_pi_address'
      }, (error, result) => {
        if (error) {
          console.error(error);
        } else {
          console.log(result);
        }
      });
    };

    const getPiHostAppName = () => {
      console.log(Pi.getPiHostAppName());
    };

    const getPiHostAppInfo = () => {
      Pi.getPiHostAppInfo().then((result) => {
        console.log(result);
      });
    };

    const nativeFeaturesList = () => {
      Pi.nativeFeaturesList().then((result) => {
        console.log(result);
      });
    };

    const openConversation = () => {
      Pi.openConversation('my_conversation_id').then(() => {
        console.log('Conversation opened.');
      });
    };

    const openShareDialog = () => {
      Pi.openShareDialog('My title', 'My sharing message').then(() => {
        console.log('Share dialog opened.');
      });
    };

    const openUrlInSystemBrowser = () => {
      Pi.openUrlInSystemBrowser('https://www.minepi.com').then(() => {
        console.log('URL opened in system browser.');
      });
    };

    const requestPermission = () => {
      Pi.requestPermission('camera').then((result) => {
        console.log(result);
      });
    };

    const scanQrCode = () => {
      Pi.scanQrCode().then((result) => {
        console.log(result);
      });
    };
  </script>
</body>
</html>